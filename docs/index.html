<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>City of St. Louis Data • stlData</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">stlData</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="/index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/slu-openGIS/stlData">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="stldata" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#stldata" class="anchor"></a>stlData <img src="reference/figures/logo.png" align="right">
</h1></div>

<p>The <code>stlData</code> package contains various data sets representing the City of St. Louis. These data sets are primary designed for teaching statistics, data science, and spatial data analysis using <code>R</code>.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install <code>stlData</code> from <a href="https://github.com/chris-prener/stlData">Github</a> with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"slu-openGIS/stlData"</span>)</code></pre></div>
</div>
<div id="use-with-simple-features" class="section level2">
<h2 class="hasAnchor">
<a href="#use-with-simple-features" class="anchor"></a>Use with Simple Features</h2>
<p>One goal of <code>stlData</code> is to provide accessible data for learning how to manipulate and map simple features objects in <code>R</code>. However, the installation of <a href="https://r-spatial.github.io/sf/"><code>sf</code></a> requires a number of dependencies. To make <code>stlData</code> as accessible as possible, <code>sf</code> is not required. If <code>sf</code> is not installed, only the data tables listed below will be fully accessible and functional.</p>
</div>
<div id="current-data" class="section level2">
<h2 class="hasAnchor">
<a href="#current-data" class="anchor"></a>Current Data</h2>
<div id="data-tables" class="section level3">
<h3 class="hasAnchor">
<a href="#data-tables" class="anchor"></a>Data Tables</h3>
<p>The package currently contains eight data tables stored as tibbles with quantitative data about the city:</p>
<ul>
<li>
<code>stl_tbl_asthma</code> - current asthma prevalence in 2014 by census tract via <a href="https://www.cdc.gov/500cities/">Centers for Disease Control 500 Cities Project</a>
</li>
<li>
<code>stl_tbl_income</code> - 2010 and 2015 median income estimates via the American Community Survey, by census tract</li>
<li>
<code>stl_tbl_insurance</code> - lack of health insurance in 2014 by census tract via <a href="https://www.cdc.gov/500cities/">Centers for Disease Control 500 Cities Project</a>
</li>
<li>
<code>stl_tbl_lead</code> - blood lead level test result data from 2010-2015 via <a href="http://www.reuters.com/investigates/special-report/usa-lead-testing/#interactive-lead">Reuters</a> and 2015 5-year estimates for demographics (poverty and race) via the American Community Survey, by census tract</li>
<li>
<code>stl_tbl_murders</code> - all murders between 2008 and 2016 via the St. Louis Metropolitan Police Department</li>
<li>
<code>stl_tbl_sluPlaces</code> - a small number of locations at Saint Louis University</li>
<li>
<code>stl_tbl_smoking</code> - current smoking in 2014 by census tract via <a href="https://www.cdc.gov/500cities/">Centers for Disease Control 500 Cities Project</a>
</li>
<li>
<code>stl_tbl_water</code> - rivers and streams listed under the Clean Water Act via the <a href="http://msdis.missouri.edu">Missouri Spatial Data Information Service</a>
</li>
</ul>
</div>
<div id="simple-features-objects" class="section level3">
<h3 class="hasAnchor">
<a href="#simple-features-objects" class="anchor"></a>Simple Features Objects</h3>
<p>The package contains four <code>sf</code> objects describing the City of St. Louis:</p>
<ul>
<li>
<code>stl_sf_boundary</code> - city boundary</li>
<li>
<code>stl_sf_historic</code> - historic districts</li>
<li>
<code>stl_sf_hydro</code> - Missouri side of the Mississippi River and the River Des Peres</li>
<li>
<code>stl_sf_tracts</code> - 2016 census tracts</li>
</ul>
</div>
<div id="conversion-of-tibbles-to-sf-objects" class="section level3">
<h3 class="hasAnchor">
<a href="#conversion-of-tibbles-to-sf-objects" class="anchor"></a>Conversion of Tibbles to <code>sf</code> Objects</h3>
<p>The following tibbles can be converted to <code>sf</code> objects using the <code><a href="reference/stl_as_sf.html">stl_as_sf()</a></code> function:</p>
<ul>
<li><code>stl_tbl_asthma</code></li>
<li><code>stl_tbl_income</code></li>
<li><code>stl_tbl_insurance</code></li>
<li><code>stl_tbl_lead</code></li>
<li><code>stl_tbl_smoking</code></li>
</ul>
<p>Input tables should not be quoted when the <code><a href="reference/stl_as_sf.html">stl_as_sf()</a></code> function is used:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">asthma &lt;-<span class="st"> </span><span class="kw"><a href="reference/stl_as_sf.html">stl_as_sf</a></span>(stl_tbl_asthma)</code></pre></div>
</div>
</div>
<div id="useage" class="section level2">
<h2 class="hasAnchor">
<a href="#useage" class="anchor"></a>Useage</h2>
<div id="basic-usage" class="section level3">
<h3 class="hasAnchor">
<a href="#basic-usage" class="anchor"></a>Basic Usage</h3>
<p>Once the package is loaded, the data contained in <code>stlData</code> can be assigned to data frames in your global environment and then explored. For example, to load the <code>stl_tbl_asthma</code> data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">"stlData"</span>)
asthma &lt;-<span class="st"> </span>stl_tbl_asthma
<span class="kw">str</span>(asthma)</code></pre></div>
<p>Additional examples and information are available in each table’s help file. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><a href="reference/stl_tbl_asthma.html">?stl_tbl_asthma</a></code></pre></div>
</div>
<div id="skill-building" class="section level3">
<h3 class="hasAnchor">
<a href="#skill-building" class="anchor"></a>Skill Building</h3>
<p>The <code>stl_tbl_murders</code> and <code>stl_tbl_water</code> data have been created for practicing data wrangling. The murder data can be used for working with demographic data specifically, and the water data have both missing and duplicate information. The <code>stl_tbl_sluPlaces</code> table is meant for introducing basic mapping wither either <code>plot()</code>, <code>ggplot2</code>, or <code>leaflet</code>. All of the tables excepting <code>stl_tbl_sluPlaces</code> contain count or rate data suitable for plotting, and the data measured at the census tract level can be use for practicing joins with demographic data from <code>tidycensus</code>.</p>
</div>
<div id="mapping-with-sf" class="section level3">
<h3 class="hasAnchor">
<a href="#mapping-with-sf" class="anchor"></a>Mapping with <code>sf</code>
</h3>
<p>If you have the <a href="https://github.com/tidyverse/ggplot2">development version of <code>ggplot2</code></a>, the <code>sf</code> objects in the package can be mapped using the <code>geom_sf()</code> function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> stl_sf_boundary, <span class="dt">fill =</span> <span class="st">"#5d5d5d"</span>, <span class="dt">color =</span> <span class="st">"#5d5d5d"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> stl_sf_historic, <span class="dt">fill =</span> <span class="st">"#d48a72"</span>, <span class="dt">color =</span> <span class="st">"#d48a72"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> stl_sf_hydro, <span class="dt">fill =</span> <span class="st">"#72bcd4"</span>, <span class="dt">color =</span> <span class="st">"#72bcd4"</span>)  <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Historic Districts"</span>, <span class="dt">subtitle =</span> <span class="st">"St. Louis, MO"</span>)</code></pre></div>
<div class="figure">
<img src="reference/figures/refMap.png">
</div>
<p>When the tibbles like <code>stl_tbl_asthma</code> are converted to <code>sf</code> objects, they can be mapped as well:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">asthma &lt;-<span class="st"> </span><span class="kw"><a href="reference/stl_as_sf.html">stl_as_sf</a></span>(stl_tbl_asthma)

<span class="kw">ggplot</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_sf</span>(<span class="dt">data =</span> asthma, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">fill =</span> pctAsthma), <span class="dt">color =</span> <span class="st">"#5d5d5d"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_fill_viridis</span>(<span class="dt">name =</span> <span class="st">"Percent"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Crude Asthma Prevalence"</span>, <span class="dt">subtitle =</span> <span class="st">"St. Louis, MO"</span>)</code></pre></div>
<div class="figure">
<img src="reference/figures/asthmaMap.png">
</div>
</div>
</div>
<div id="contributor-code-of-conduct" class="section level2">
<h2 class="hasAnchor">
<a href="#contributor-code-of-conduct" class="anchor"></a>Contributor Code of Conduct</h2>
<p>Please note that this project is released with a <a href=".github/CODE_OF_CONDUCT.md">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/slu-openGIS/stlData">https://​github.com/​slu-openGIS/​stlData</a>
</li>
<li>Report a bug at <br><a href="https://github.com/slu-openGIS/stlData/issues">https://​github.com/​slu-openGIS/​stlData/​issues</a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> + file <a href="LICENSE.html">LICENSE</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://chris-prener.github.io">Christopher Prener</a> <br><small class="roles"> Author, maintainer </small> </li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="lifecycle"></a></li>
<li><a href="https://travis-ci.org/slu-openGIS/stlData"><img src="https://travis-ci.org/slu-openGIS/stlData.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/chris-prener/stlData"><img src="https://ci.appveyor.com/api/projects/status/github/slu-openGIS/stlData?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a></li>
<li><a href="https://codecov.io/github/slu-openGIS/stlData?branch=master"><img src="https://img.shields.io/codecov/c/github/slu-openGIS/stlData/master.svg" alt="Coverage Status"></a></li>
<li><a href="https://zenodo.org/badge/latestdoi/85344799"><img src="https://zenodo.org/badge/85344799.svg" alt="DOI"></a></li>
<li><a href="https://cran.r-project.org/package=stlData"><img src="http://www.r-pkg.org/badges/version/stlData" alt="CRAN_Status_Badge"></a></li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://chris-prener.github.io">Christopher Prener</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
